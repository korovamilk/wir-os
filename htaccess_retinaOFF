<IfModule rewrite_module>
  # This is to short circuit non existent Retina image requests generated by retina.js
  # We simply redirect the request to the non @2x version of the file, if one exists, otherwise, send a 404 status
  RewriteEngine on
  RewriteBase /
  RewriteCond %{REQUEST_FILENAME} @2x\.[a-z]+$
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteRule ^(.*)@2x(.*)$ $1$2 [E=QHNORETINA:1]
  RewriteCond %{ENV:QHNORETINA} 1
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteRule .* â€“ [L,R=404]
</IfModule>
